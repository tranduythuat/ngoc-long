<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ngọc & Long</title>
    <meta name="description" content="Ánh Ngọc & Hoàng Long" />

    <meta property="og:type" content="website" />
    <meta property="og:title" content="Ngọc - Long" />
    <meta property="og:description" content="Ánh Ngọc & Hoàng Long" />
   
    <meta property="og:image" content="https://res.cloudinary.com/storehue/image/upload/f_jpg,w_600,h_400,c_fill,g_north/v1759249997/wedding/ngoc-long/Tranh_Ve_mnjcv6.png" />
    <meta property="og:image:width" content="600" />
    <meta property="og:image:height" content="400" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <link rel="stylesheet" href="./css/style01.css">
</head>

<body>
    <div class="container">
        <div class="cards">
            <div class="card active" id="card-default">
                <div class="title">
                    <p class="text-1">say</p>
                    <p class="text-2">yes</p>
                    <p class="text-3">forever</p>
                </div>
                <div class="letter-img">
                    <img src="./images/g272.png" class="envelope shake-bottom" id="envelopeBtn" alt="Letter image">

                </div>
                <div class="main-text">
                    <p class="subtext">thiệp mời tham dự tiệc cưới</p>
                    <h3 class="name-couple">Ánh Ngọc & Hoàng Long</h3>
                </div>
                <div class="icons">
                    <div class="icon">
                        <div class="box-img" onclick="showCard('invitation-card')">
                            <img src="./images/icons/icon1.png" alt="">
                        </div>
                        <p class="icon-text">Thơi gian </br> địa điểm</p>
                    </div>
                    <div class="icon">
                        <div class="box-img" onclick="openMapUrl()">
                            <img src="./images/icons/icon2.png" alt="">
                        </div>
                        <p class="icon-text">Bản đồ </br>/Maps/</p>
                    </div>
                    <div class="icon">
                        <div class="box-img" onclick="showCard('album')">
                            <img src="./images/icons/icon3.png" alt="">
                        </div>
                        <p class="icon-text">Album</br> ảnh cưới</p>
                    </div>
                    <div class="icon">
                        <div class="box-img" onclick="showCard('rsvp')">
                            <img src="./images/icons/icon4.png" alt="">
                        </div>
                        <p class="icon-text">Xác nhận</br>tham dự</p>
                    </div>
                    <div class="icon">
                        <div class="box-img" onclick="showCard('qrcode')">
                            <img src="./images/icons/icon5.png" alt="">
                        </div>
                        <p class="icon-text">Mừng</br>cưới</p>
                    </div>
                </div>
            </div>

            <div class="card" id="invitation-card">
                <div class="content">
                    <div class="label">vào lúc</div>
                    <div class="date-time">17h00 | 12.10.2025</div>
                    <div class="lunar-date">/ngày 21 tháng 08 năm Ất Tỵ/</div>
                    
                    <div class="divider">
                        <img src="./images/g704.png" alt="">
                    </div>
                    
                    <div class="location-label label">tại</div>
                    <div class="venue-name">Trống Đồng Palace</div>
                    <div class="venue-address">/Số 02 Lãng Yên, P. Hồng Hà, Hà Nội/</div>
                    
                    <div class="footer-decoration">
                        <div class="img-couple">
                            <img src="./images/Tranh Ve.PNG" alt="">
                        </div>
                    </div>
                </div>
                <svg onclick="backToDefault()" class="back-icon" xmlns="http://www.w3.org/2000/svg" width="30"
                    height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round" stroke-linejoin="round"
                    class="lucide lucide-move-left-icon lucide-move-left">
                    <path d="M6 8L2 12L6 16" />
                    <path d="M2 12H22" />
                </svg>
            </div>

            <div class="card scroll-box" id="album">
                <h2>Album</h2>
                <div class="album-container" id="album-container">
                    <div class="column">
                        <img src="https://res.cloudinary.com/storehue/image/upload/w_400,h_600,c_fill/v1759228571/wedding/ngoc-long/BOMM7346_bxsuqi.jpg" 
                            data-full="https://res.cloudinary.com/storehue/image/upload/v1759228571/wedding/ngoc-long/BOMM7346_bxsuqi.jpg" alt="ảnh 9">
    
                        <img src="https://res.cloudinary.com/storehue/image/upload/w_400,h_600,c_fill/v1759228625/wedding/ngoc-long/BOMM7213_uywpy5.jpg" 
                            data-full="https://res.cloudinary.com/storehue/image/upload/v1759228625/wedding/ngoc-long/BOMM7213_uywpy5.jpg" alt="ảnh 06" 
                            style="height: 200px;object-fit: cover; object-position: 100% 0%;">
    
                        <img src="https://res.cloudinary.com/storehue/image/upload/w_400,h_600,c_fill/v1759228621/wedding/ngoc-long/BOMM7122_kbei5i.jpg" 
                            alt="ảnh 4" 
                            data-full="https://res.cloudinary.com/storehue/image/upload/v1759228621/wedding/ngoc-long/BOMM7122_kbei5i.jpg">
                        
                        <img src="https://res.cloudinary.com/storehue/image/upload/w_400,h_600,c_fill/v1759228622/wedding/ngoc-long/BOMM7149_scm8po.jpg" 
                            alt="ảnh 2" 
                            data-full="https://res.cloudinary.com/storehue/image/upload/v1759228622/wedding/ngoc-long/BOMM7149_scm8po.jpg">
                        
                        <img src="https://res.cloudinary.com/storehue/image/upload/w_400,h_600,c_fill/v1759228622/wedding/ngoc-long/BOMM7698_ihswmb.jpg" 
                            alt="ảnh 3" 
                            data-full="https://res.cloudinary.com/storehue/image/upload/v1759228622/wedding/ngoc-long/BOMM7698_ihswmb.jpg">
                        
                        <img src="https://res.cloudinary.com/storehue/image/upload/w_400,h_600,c_fill/v1759228621/wedding/ngoc-long/BOMM7199_cwuzpl.jpg" 
                            alt="ảnh 5" 
                            style="height: 200px;object-fit: cover; object-position: 100% 0%;" 
                            data-full="https://res.cloudinary.com/storehue/image/upload/v1759228621/wedding/ngoc-long/BOMM7199_cwuzpl.jpg">
                        
                        <img src="https://res.cloudinary.com/storehue/image/upload/w_400,h_600,c_fill/v1759228620/wedding/ngoc-long/BOMM7418_kjb6h3.jpg" 
                            alt="ảnh 6" 
                            data-full="https://res.cloudinary.com/storehue/image/upload/v1759228620/wedding/ngoc-long/BOMM7418_kjb6h3.jpg">
                        
                        <img src="https://res.cloudinary.com/storehue/image/upload/w_400,h_600,c_fill/v1759228569/wedding/ngoc-long/BOMM7481_nwutzm.jpg" 
                            alt="ảnh 14" 
                            style="height: 200px;object-fit: cover; object-position: 100% 80%;" 
                            data-full="https://res.cloudinary.com/storehue/image/upload/v1759228569/wedding/ngoc-long/BOMM7481_nwutzm.jpg">
                    </div>
                    <div class="column">
                        <img src="https://res.cloudinary.com/storehue/image/upload/w_400,h_600,c_fill/v1759228623/wedding/ngoc-long/BOMM7735_d3hten.jpg" 
                            alt="ảnh 1"  
                            style="height: 250px;object-fit: cover; object-position: 100% 100%;" 
                            data-full="https://res.cloudinary.com/storehue/image/upload/v1759228623/wedding/ngoc-long/BOMM7735_d3hten.jpg">
                        
                        <img src="https://res.cloudinary.com/storehue/image/upload/w_400,h_600,c_fill/v1759228571/wedding/ngoc-long/BOMM7243_gkwgk5.jpg" 
                            alt="ảnh 8" 
                            style="object-fit: cover;" 
                            data-full="https://res.cloudinary.com/storehue/image/upload/v1759228571/wedding/ngoc-long/BOMM7243_gkwgk5.jpg">
                        
                        <img src="https://res.cloudinary.com/storehue/image/upload/w_400,h_600,c_fill/v1759228570/wedding/ngoc-long/BOMM7569_hnjui0.jpg" 
                            alt="ảnh 11" 
                            style="height: 200px;object-fit: cover; object-position: 100% 30%;" 
                            data-full="https://res.cloudinary.com/storehue/image/upload/v1759228570/wedding/ngoc-long/BOMM7569_hnjui0.jpg">
                        
                        <img src="https://res.cloudinary.com/storehue/image/upload/w_400,h_600,c_fill/v1759228570/wedding/ngoc-long/BOMM7400_fksmw3.jpg" 
                            alt="ảnh 10" 
                            style="height: 250px;object-fit: cover; object-position: 100% 50%;" 
                            data-full="https://res.cloudinary.com/storehue/image/upload/v1759228570/wedding/ngoc-long/BOMM7400_fksmw3.jpg">
                        
                        <img src="https://res.cloudinary.com/storehue/image/upload/w_400,h_600,c_fill/v1759228569/wedding/ngoc-long/BOMM7087_t5trc1.jpg" 
                            alt="ảnh 12" 
                            data-full="https://res.cloudinary.com/storehue/image/upload/v1759228569/wedding/ngoc-long/BOMM7087_t5trc1.jpg">
                        
                        <img src="https://res.cloudinary.com/storehue/image/upload/w_400,h_600,c_fill/v1759228569/wedding/ngoc-long/BOMM7656_msf4wa.jpg" 
                            alt="ảnh 13" 
                            style="height: 250px;object-fit: cover; object-position: 100% 50%;" 
                            data-full="https://res.cloudinary.com/storehue/image/upload/v1759228569/wedding/ngoc-long/BOMM7656_msf4wa.jpg">
                        
                        <img src="https://res.cloudinary.com/storehue/image/upload/w_400,h_600,c_fill/v1759228571/wedding/ngoc-long/BOMM7306_d1qr8v.jpg" 
                            alt="ảnh 7" 
                            style="height: 270px;object-fit: cover; object-position: 100% 90%;" 
                            data-full="https://res.cloudinary.com/storehue/image/upload/v1759228571/wedding/ngoc-long/BOMM7306_d1qr8v.jpg">
                        
                        <img src="https://res.cloudinary.com/storehue/image/upload/w_400,h_600,c_fill/v1759228569/wedding/ngoc-long/BOMM7332_w0uhnf.jpg" 
                            alt="ảnh 15" 
                            style="height: 280px;object-fit: cover; object-position: 100% 90%;" 
                            data-full="https://res.cloudinary.com/storehue/image/upload/v1759228569/wedding/ngoc-long/BOMM7332_w0uhnf.jpg">
                    </div>
                </div>
                <svg onclick="backToDefault()" class="back-icon" xmlns="http://www.w3.org/2000/svg" width="30"
                    height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round" stroke-linejoin="round"
                    class="lucide lucide-move-left-icon lucide-move-left">
                    <path d="M6 8L2 12L6 16" />
                    <path d="M2 12H22" />
                </svg>
            </div>
            <div class="card" id="rsvp">
                <h2>Bạn sẽ</h2>
                <h2>tham dự chứ?</h2>
                <p>Dành chút thời gian để xác nhận tham dự giúp <strong>Ngọc & Long</strong> nhé!</p>
                <form id="rsvp-form">
                    <div class="rsvp-buttons">
                        <input type="radio" id="attend" name="attendance" value="CÓ" required checked>
                        <label data-aos="fade-up" data-aos-delay="30" for="attend" class="btn-yes">Có</label>

                        <input type="radio" id="decline" name="attendance" value="KHÔNG" required>
                        <label data-aos="fade-up" data-aos-delay="300" for="decline" class="btn-no">Không</label>

                        <input type="radio" id="maybe" name="attendance" value="CÓ THỂ" required>
                        <label data-aos="fade-up" data-aos-delay="600" for="maybe" class="btn-maybe">Có thể</label>
                    </div>

                    <div class="message-section">
                        <input data-aos="fade-right" data-aos-delay="800" type="text" name="name"
                            placeholder="Tên của bạn" required>
                        <input data-aos="fade-right" data-aos-delay="1000" type="text" name="phone"
                            placeholder="Số điện thoại" required>
                    </div>

                    <button data-aos="zoom-in" data-aos-delay="1400" type="submit" class="btn-send">Xác nhận</button>
                </form>
                <svg onclick="backToDefault()" class="back-icon" xmlns="http://www.w3.org/2000/svg" width="30"
                    height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round" stroke-linejoin="round"
                    class="lucide lucide-move-left-icon lucide-move-left">
                    <path d="M6 8L2 12L6 16" />
                    <path d="M2 12H22" />
                </svg>
            </div>
            <div class="card" id="qrcode">
                <div class="qrcode-box">
                    <img src="./images/qrcode01.jpg" alt="">
                </div>
                <div class="qrcode-box">
                    <img src="./images/qrcode02.jpg" alt="">
                </div>
                <svg onclick="backToDefault()" class="back-icon" xmlns="http://www.w3.org/2000/svg" width="30"
                    height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"
                    stroke-linecap="round" stroke-linejoin="round"
                    class="lucide lucide-move-left-icon lucide-move-left">
                    <path d="M6 8L2 12L6 16" />
                    <path d="M2 12H22" />
                </svg>
            </div>
        </div>
    </div>
    <div class="preview-overlay" id="previewOverlay">
        <span class="close-btn" id="closeBtn">&times;</span>
        <img id="previewImg" src="" alt="preview">
    </div>
    <!-- Overlay video -->
    <div class="video-overlay" id="videoOverlay">
        <div class="video-content" id="videoContent">
        <button class="close-video-btn" id="closeVideoBtn">X</button>
            <!-- iframe sẽ được chèn bằng JS -->
        </div>
    </div>
    <script>
        const albumImages = document.querySelectorAll('.album-container img');
        const previewOverlay = document.getElementById('previewOverlay');
        const previewImg = document.getElementById('previewImg');
        const closeBtn = document.getElementById('closeBtn');
        const albumCard = document.getElementById('album-container');

        // Khi click vào ảnh -> mở preview
        albumImages.forEach(img => {
            img.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                 // B1: show overlay + thumbnail (blur)
                previewOverlay.style.display = 'flex';

                previewImg.src = img.src;
                previewImg.classList.add('blur');

                // B2: tạo ảnh gốc preload
                const fullUrl = img.dataset.full;
                console.log('fullUrl', fullUrl)
                const fullImg = new Image();
                fullImg.src = fullUrl;
                fullImg.onload = () => {
                    previewImg.src = fullUrl;
                    previewImg.classList.remove('blur');
                };
            });
        });

        // Nút close
        closeBtn.addEventListener('click', () => {
            previewOverlay.style.display = 'none';
            // albumCard.classList.remove('no-scroll'); 
        });

        function getFullImageUrl(url) {
            return url.replace(/\/w_\d+,h_\d+,c_[^/]+\//, "/");
        }

        // Đóng preview -> bật lại cuộn
        function closePreview() {
            previewOverlay.style.display = 'none';
            // albumCard.classList.remove('no-scroll'); 
        }

        // Click ra ngoài ảnh cũng đóng
        previewOverlay.addEventListener('click', (e) => {
            if (e.target === previewOverlay) {
                closePreview();
            }
        });
    </script>
    <script>
        const envelopeBtn = document.getElementById("envelopeBtn");
        const videoOverlay = document.getElementById("videoOverlay");
        const videoContent = document.getElementById("videoContent");
        const closeVideoBtn = document.getElementById("closeVideoBtn");
        const videoId = "We9RvyWpMYY"; // Thay VIDEO_ID unlisted YouTube vào đây

        envelopeBtn.addEventListener("click", () => {
            document.body.classList.add("no-scroll");
            videoOverlay.classList.add("active");
            videoContent.innerHTML = `
                <button class="close-video-btn" id="closeVideoBtn">X</button>
                <iframe src="https://www.youtube.com/embed/${videoId}?autoplay=1" 
                    frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; picture-in-picture" allowfullscreen
                >
                </iframe>
            `;
            document.getElementById("closeVideoBtn").addEventListener("click", closeVideo);
        });

        function closeVideo() {
            videoOverlay.classList.remove("active");
            document.body.classList.remove("no-scroll");
            videoContent.innerHTML = `<button class="close-video-btn" id="closeVideoBtn">X</button>`;
        }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script>
        let currentCard = "card-default";

        // Khởi tạo trang dựa vào param trên URL
        function initPage() {
            const urlParams = new URLSearchParams(window.location.search);
            const pageParam = urlParams.get("page");

            if (pageParam && document.getElementById(pageParam)) {
                currentCard = pageParam;
            }

            const activeCard = document.getElementById(currentCard);
            if (activeCard) {
                activeCard.classList.add("active");
                gsap.set(activeCard, { display: "flex", opacity: 1, scale: 1 });
            }
        }

        function openMapUrl() {
            const mapUrl = 'https://maps.app.goo.gl/t3E5W5VknFWsDyFx6?g_st=ipc';
            window.location.href = mapUrl;
        }

        // Hàm chuyển card
        function showCard(id) {
            if (id === currentCard) return;

            const oldCard = document.getElementById(currentCard);
            const newCard = document.getElementById(id);

            if (!newCard) return;

            // fade out card cũ
            gsap.to(oldCard, {
                opacity: 0,
                scale: 0.95,
                duration: 0.4,
                onComplete: () => {
                    oldCard.classList.remove("active");
                    gsap.set(oldCard, { opacity: 1, scale: 1, display: "none" });
                }
            });

            // fade in card mới
            newCard.classList.add("active");
            gsap.fromTo(newCard,
                { opacity: 0, scale: 0.95, display: "flex" },
                { opacity: 1, scale: 1, duration: 0.4 }
            );

            // cập nhật biến và URL
            currentCard = id;
            const params = new URLSearchParams(window.location.search);
            params.set("page", currentCard);
            window.history.replaceState({}, "", `${window.location.pathname}?${params}`);
        }

        // Hàm back về card mặc định
        function backToDefault() {
            showCard("card-default");
        }

        // Khi DOM load xong thì khởi tạo
        document.addEventListener("DOMContentLoaded", initPage);
    </script>
</body>

</html>